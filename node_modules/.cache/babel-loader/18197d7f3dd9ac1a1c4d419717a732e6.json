{"ast":null,"code":"import _objectSpread from\"F:/LINUX/AF Lexicon 2022/Code examples/ReactOwnTest/test1intro/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"F:/LINUX/AF Lexicon 2022/Code examples/ReactOwnTest/test1intro/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"F:/LINUX/AF Lexicon 2022/Code examples/ReactOwnTest/test1intro/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"F:/LINUX/AF Lexicon 2022/Code examples/ReactOwnTest/test1intro/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"F:/LINUX/AF Lexicon 2022/Code examples/ReactOwnTest/test1intro/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Header from\"./components/Header\";import Tasks from\"./components/Tasks\";import{useState,useEffect}from\"react\";import AddTask from\"./components/AddTask\";// const name = 'Lavi'\n// const x=true\n// function title*() {\n//   return(\n//     <h5>Hi React:)</h5>\n//   )\n// }\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),toggleAdd=_useState2[0],setToggleAdd=_useState2[1];var _useState3=useState([//state\n// {\n//     id: 1,\n//     text: 'to do 1',\n//     day: 'Feb 5, 2022',\n//     reminder: 'true',\n// },\n// {\n//     id: 2,\n//     text: 'to do 2',\n//     day: 'Feb 5, 2022',\n//     reminder: 'true',\n// },\n// {\n//     id: 3,\n//     text: 'to do 3',\n//     day: 'Feb 5, 2022',\n//     reminder: 'false',\n// },\n]),_useState4=_slicedToArray(_useState3,2),tasks=_useState4[0],setTasks=_useState4[1];useEffect(function(){var getTasks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var tasksFromServer;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchTasks();case 2:tasksFromServer=_context.sent;setTasks(tasksFromServer);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getTasks(){return _ref.apply(this,arguments);};}();// fetchTasks();\ngetTasks();},[]);//dependencie would go in here [user]\nvar fetchTasks=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:8000/tasks\");case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;console.log(data);return _context2.abrupt(\"return\",data);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchTasks(){return _ref2.apply(this,arguments);};}();var fetchTask=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){var response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"http://localhost:8000/tasks/\".concat(id));case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:data=_context3.sent;console.log(data);return _context3.abrupt(\"return\",data);case 8:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchTask(_x){return _ref3.apply(this,arguments);};}();var addTask=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(task){var response,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"http://localhost:8000/tasks\",{method:'POST',headers:{'Content-type':'application/json'},body:JSON.stringify(task)});case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:data=_context4.sent;setTasks([].concat(_toConsumableArray(tasks),[data]));console.log(\"Added task >>> \",data);case 8:case\"end\":return _context4.stop();}}},_callee4);}));return function addTask(_x2){return _ref4.apply(this,arguments);};}();var deleteTask=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(id){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"http://localhost:8000/tasks/\".concat(id),{//backticks\nmethod:'DELETE'});case 2:setTasks(tasks.filter(function(task){return task.id!==id;}));console.log(\"deleted: \",id);case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function deleteTask(_x3){return _ref5.apply(this,arguments);};}();var toggleReminder=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(id){var taskToToggle,updatedTask,response,data;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetchTask(id);case 2:taskToToggle=_context6.sent;console.log(taskToToggle,\"<<< Task to toggle\");updatedTask=_objectSpread(_objectSpread({},taskToToggle),{},{reminder:!taskToToggle.reminder});_context6.next=7;return fetch(\"http://localhost:8000/tasks/\".concat(id),{method:'PUT',headers:{'Content-type':'application/json'},body:JSON.stringify(updatedTask)});case 7:response=_context6.sent;_context6.next=10;return response.json();case 10:data=_context6.sent;setTasks(tasks.map(function(task){return(//   task.id === id ? { ...task, reminder: !task.reminder } : task\n// )\ntask.id===id?_objectSpread(_objectSpread({},task),{},{reminder:data.reminder}):task);}));//state\nconsole.log(id);case 13:case\"end\":return _context6.stop();}}},_callee6);}));return function toggleReminder(_x4){return _ref6.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",id:\"block\",children:[/*#__PURE__*/_jsx(Header,{onAdd:function onAdd(){return setToggleAdd(!toggleAdd);},showAddButton:toggleAdd}),toggleAdd&&/*#__PURE__*/_jsx(AddTask,{onAdd:addTask//onAdd the attribute is going to the component for linkage / hooking\n}),tasks.length>0?/*#__PURE__*/_jsx(Tasks,{tasks:tasks,onDelete:deleteTask,onToggle:toggleReminder}):\"No tasks added yet\"]});};export default App;","map":{"version":3,"names":["Header","Tasks","useState","useEffect","AddTask","App","toggleAdd","setToggleAdd","tasks","setTasks","getTasks","fetchTasks","tasksFromServer","fetch","response","json","data","console","log","fetchTask","id","addTask","task","method","headers","body","JSON","stringify","deleteTask","filter","toggleReminder","taskToToggle","updatedTask","reminder","map","length"],"sources":["F:/LINUX/AF Lexicon 2022/Code examples/ReactOwnTest/test1intro/src/App.js"],"sourcesContent":["import Header from \"./components/Header\";\nimport Tasks from \"./components/Tasks\";\nimport { useState, useEffect } from \"react\";\nimport AddTask from \"./components/AddTask\";\n\n// const name = 'Lavi'\n// const x=true\n// function title*() {\n//   return(\n//     <h5>Hi React:)</h5>\n//   )\n// }\n\nconst App = () => {\n  const [toggleAdd, setToggleAdd] = useState(false);\n\n  const [tasks, setTasks] = useState([\n    //state\n    // {\n    //     id: 1,\n    //     text: 'to do 1',\n    //     day: 'Feb 5, 2022',\n    //     reminder: 'true',\n    // },\n    // {\n    //     id: 2,\n    //     text: 'to do 2',\n    //     day: 'Feb 5, 2022',\n    //     reminder: 'true',\n    // },\n    // {\n    //     id: 3,\n    //     text: 'to do 3',\n    //     day: 'Feb 5, 2022',\n    //     reminder: 'false',\n    // },\n  ]);\n\n  useEffect(() => {\n    const getTasks = async () => {\n      const tasksFromServer = await fetchTasks()\n      setTasks(tasksFromServer)\n    }\n   // fetchTasks();\n   getTasks()\n  }, []); //dependencie would go in here [user]\n\n  const fetchTasks = async () => {\n    const response = await fetch(`http://localhost:8000/tasks`); //backticks\n    const data = await response.json();\n    console.log(data);\n    return data\n  };\n\n  const fetchTask = async (id) => {\n    const response = await fetch(`http://localhost:8000/tasks/${id}`); //backticks\n    const data = await response.json();\n    console.log(data);\n    return data\n  };\n\n  const addTask = async (task) => {\n    // //props\n    // const id = Math.floor(Math.random() * 10000) + 1;\n    // const newTask = { id, ...task };\n    // setTasks([...tasks, newTask]); //state\n   // console.log(\"Added task >>> \", task, id);\n    const response = await fetch(\"http://localhost:8000/tasks\", {\n      method: 'POST',\n      headers: { 'Content-type': 'application/json'},\n      body: JSON.stringify(task)\n    })\n    const data = await response.json()\n    setTasks([...tasks, data])\n    console.log(\"Added task >>> \", data);\n  };\n\n  const deleteTask = async (id) => {\n    await fetch(`http://localhost:8000/tasks/${id}`, { //backticks\n      method: 'DELETE'\n    })\n    setTasks(tasks.filter((task) => task.id !== id));\n    console.log(\"deleted: \", id);\n  };\n\n  const toggleReminder = async (id) => {\n    const taskToToggle = await fetchTask(id)\n    console.log(taskToToggle, \"<<< Task to toggle\")\n\n    const updatedTask = {  ...taskToToggle, reminder: !taskToToggle.reminder }\n\n    const response = await fetch(`http://localhost:8000/tasks/${id}`,{\n      method: 'PUT',\n      headers: { 'Content-type': 'application/json' },\n      body: JSON.stringify(updatedTask)\n    })\n\n    const data = await response.json()\n\n    setTasks(\n      tasks.map((task) =>\n      //   task.id === id ? { ...task, reminder: !task.reminder } : task\n      // )\n      task.id === id ? { ...task, reminder: data.reminder } : task\n      )\n    ); //state\n    console.log(id);\n  };\n\n  return (\n    <div className=\"container\" id=\"block\">\n      <Header\n        onAdd={() => setToggleAdd(!toggleAdd)}\n        showAddButton={toggleAdd}\n      />\n      {toggleAdd && (\n        <AddTask\n          onAdd={addTask} //onAdd the attribute is going to the component for linkage / hooking\n        />\n      )}\n      {/* <Header title='Hello...' />  overrides the defaultProps set in Header component*/}\n      {/* <h1>Hello {name}</h1>\n    <p>{x ? 'Yes': 'No'}</p> */}\n      {tasks.length > 0 ? (\n        <Tasks tasks={tasks} onDelete={deleteTask} onToggle={toggleReminder} />\n      ) : (\n        \"No tasks added yet\"\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}